# 0.5.x 版本开发文档

## 前言

`SendMultipleEmails`  自发布以来，没有做过任何宣传，却受到了很多朋友的喜欢，提出了许多宝贵的建议。

但由于程序设计之初，只考虑到几百封的发件体量，为了追求速度，也受限于自己的编码水平，很多的实现方式不是那么优雅，要这基础上进行维护优化，感觉有点难受，因此决定重写一遍。

## 功能需求

1. 支持多个发件人
2. 支持多个收件人
3. 支持多场景发件

## 发件场景

### 发工资条

**特点：**

1. 主题固定
2. 模板固定
3. 内容不定

### 产品推销

**特点：**

1. 主题不定
2. 模板不定，但模板要契合主题
3. 内容不定

## 发件实现

1. 增加 excel 批量发件功能

   随机性完全由自己控制

2. 增加常规发件功能

   自主选择主题、模板、内容

3. 增加随机发件功能

## 数据库

数据库采用 LiteDB 数据库，方便后期功能扩展。

## 开发架构

### 技术栈

**前端：**

vue3+quasar+elementui

**后端：**

.NET Core。主要使用 http 和 signalR 进行通信

**桌面端：**

WPF+Webview2

**数据库：**

LiteDB

### 目录约定

| 目录名    | 作用          |
| --------- | ------------- |
| Config    | 配置相关      |
| Core      | 发件内核      |
| Service   | 数据库适配器  |
| Model     | 数据库类      |
| Utils     | 功能类        |
| Pages     | WPF 页面      |
| Http      | Http相关      |
| Websocket | websocket相关 |

### 整体架构

### 发件模块

1. 每个发件箱一个发件队列

### 性能优化

1. 在发件时，才进行内容生成